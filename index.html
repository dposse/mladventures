<!--
Copyright 2018 Google LLC. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
==============================================================================
-->

<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/tfjs-examples.44bb3400.css">
  <link rel="shortcut icon" href="dog3.jpg" />
  <title>The Machine Learning Adventures of Jojo and Junior</title>
</head>

<body>

  <style>#app-status {
      color: blue;
      padding-bottom: 1em;
    }

    #create-model, #delete-stored-model, #train, #test {
      background-color: rgb(124, 181, 236);
    }

    .buttons-section {
      margin-top: 12px;
    }

    .init-model {
      width: 80%;
      margin-right: 50px;
    }

    .input-div, .status {
      margin-top: 6px;
      margin-bottom: 12px;
    }

    label {
      min-width: 200px;
      display: inline-block;
    }

    button {
      max-width: 300px;
    }

    .note {
      font-size: 80%;
      font-style: italic;
      display: inline-block;
      margin-left: 15px;
    }
    
    h1 {
      font-size: 2.5em;
    }

    p.section-head {
      border-left: 1px solid rgb(124, 181, 236);
    }
    </style>

  <body>
    <div class="tfjs-example-container centered-container">
      <section class="title-area">
        <h1>The Machine Learning Adventures of Jojo and Junior</h1>
        <p class="subtitle">Using Tensorflow.js to implement reinforcement learning</p>
      </section>

      <section>
        <p class="section-head">Description</p>
        <p>This is the client front end where Tensorflow.js performs reinforcement learning, using an implementation of the policy-gradient method.</p>
        <p>The trained model is exported to the operating system's file system, then imported to the Node.js server that runs the simulation.</p>
      </section>

      <section>
        <p class="section-head">Status</p>
        <div>
          <span id="app-status">Standing by.</span>
        </div>

        <div>
          <p class="section-head">Initialize Model</p>
          <div class="with-cols">
            <div class="with-rows init-model">
              <div class="input-div with-rows">
                <label class="input-label">Hidden layer size(s) (e.g.: "256", "32,64"):</label>
                <input id="hidden-layer-sizes" value="128">
              </div>
              <button id="create-model" disabled="true">Create model</button>
            </div>
            <div class="with-rows init-model">
              <div class="input-div with-rows">
                <label class="input-label">Locally-stored model</label>
                <input id="stored-model-status" value="N/A" disabled="true" readonly="true">
              </div>
              <button id="delete-stored-model" disabled="true">Delete stored model</button>
            </div>
          </div>

          <p class="section-head">Training Parameters</p>
          <div class="with-rows">
            <div class="input-div">
              <label class="input-label">Number of iterations:</label>
              <input id="num-iterations" value="20">
            </div>
            <div class="input-div">
              <label class="input-label">Games per iteration:</label>
              <input id="games-per-iteration" value="20">
            </div>
            <div class="input-div">
              <label class="input-label">Max. steps per game:</label>
              <input id="max-steps-per-game" value="500">
            </div>
            <div class="input-div">
              <label class="input-label">Reward discount rate:</label>
              <input id="discount-rate" value="0.95">
            </div>
            <div class="input-div">
              <label class="input-label">Learning rate:</label>
              <input id="learning-rate" value="0.05">
            </div>

            <div class="buttons-section">
              <button id="train" disabled="true">Train</button>
              <button id="test" disabled="true">Test</button>
            </div>
          </div>


        </div>
      </section>

      <section>
        <p class="section-head">Training Progress</p>
        <div class="with-rows">
          <div class="status">
            <label id="train-status">Iteration #:</label>
            <progress value="0" max="100" id="train-progress"></progress>
          </div>
          <div class="status">
            <label id="iteration-status">Game #:</label>
            <progress value="0" max="100" id="iteration-progress"></progress>
          </div>

          <div class="status">
            <label>Training speed:</label>
            <span id="train-speed" class="status-span"></span>
          </div>
          <div id="steps-container"></div>
        </div>
      </section>

      <script src="/cart-pole.e31bb0bc.js"></script>
  </div></body>

</body></html>
